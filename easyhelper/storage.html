<style>
  .button {
    background-color: white;
    border-color: #ebeced;
    cursor: pointer;
    height: 3%;
    margin: 0.5%;
    border-radius: 8px;
    padding: 0.7%
}
</style>
<div id="storage"></div>
<br>
<br>
<br>
<button id="getStorage" class="button">Get storage</button>
<script>
  const queryString = new Proxy(new URLSearchParams(window.location.search), {
  get: (searchParams, prop) => searchParams.get(prop),
});
  for (filename in window.localStorage.getItem("filenames " + queryString.name)) {
    for (code in window.localStorage.getItem("code " + queryString.name)) {
      const content = new Blob([window.localStorage.getItem("code " + queryString.name)[code]]);
      const hiddenLink = document.createElement("a");
      const url = window.URL.createObjectURL(content);
      hiddenLink.href = url;
      hiddenLink.download = window.localStorage.getItem("filenames " + queryString.name)[filename];
      document.getElementById("storage").innerHTML = window.localStorage.getItem(queryString.name);
      document.getElementById("getStorage").setAttribute("onclick", "hiddenLink.click()")
      document.body.appendChild(hiddenLink);
    }
  }
</script>
