<div id="storage"></div>
<br>
<br>
<br>
<button id="getStorage">Get storage</button>
<script>
  const queryString = new Proxy(new URLSearchParams(window.location.search), {
  get: (searchParams, prop) => searchParams.get(prop),
});
  const content = new Blob([window.localStorage.getItem("code " + queryString.name)]);
  const hiddenLink = document.createElement("a");
  const url = window.URL.createObjectURL(content);
  hiddenLink.href = url;
  hiddenLink.download = window.localStorage.getItem("file " + queryString.name);
  document.getElementById("storage").innerHTML = window.localStorage.getItem(queryString.name);
  document.getElementById("getStorage").setAttribute("onclick", "hiddenLink.click()")
  document.body.appendChild(hiddenLink);
</script>
